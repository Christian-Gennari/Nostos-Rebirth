/* =========================================
   1. BASE STYLES (Mobile & Desktop)
   Functional only. No visuals yet.
   ========================================= */

:host {
  display: block;
  width: 100%;
  height: 100%;
  overflow: hidden;
  position: relative;
}

.epub-container {
  width: 100%;
  height: 100%;
  display: flex;
  align-items: center;
  justify-content: center;
  background: var(--bg-body, #fff);
}

#epub-viewer {
  width: 100%;
  height: 100%;
}

/* The click zones exist on Mobile, but they are invisible */
.nav-zone {
  position: absolute;
  top: 0;
  bottom: 0;
  width: 15%;
  z-index: 10;
  cursor: pointer;

  /* Flexbox is prepared here, but used only on desktop for the arrow */
  display: flex;
  align-items: center;
  justify-content: center;
}

.nav-prev { left: 0; }
.nav-next { right: 0; }

/* Loading state */
.loading-overlay {
  position: absolute;
  inset: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  background: var(--bg-surface, #fff);
  z-index: 20;
  color: var(--color-text-muted, #888);
}


/* =========================================
   2. DESKTOP / TABLET STYLES
   "Netflix Style" - Only applied on larger screens
   ========================================= */

@media (min-width: 768px) {

  /* Add smooth fade transitions for the visuals */
  .nav-zone {
    transition: background 0.3s ease;
      width: 5%;
  }

  /* Give some breathing room for the arrows and content */
#epub-viewer {
  width: 80%;
  height: 90%;
}

  /* --- The Arrows (Hidden by default, reveal on hover) --- */
  .nav-zone::after {
    content: '';
    display: block;
    width: 20px;
    height: 20px;
    /* Uses text color or a fallback grey */
    border-top: 4px solid var(--color-text-muted, #888);
    border-right: 4px solid var(--color-text-muted, #888);
    opacity: 0;
    transition: opacity 0.3s ease, transform 0.3s ease;
  }

  /* --- PREVIOUS HOVER --- */
  .nav-prev:hover {
    /* Subtle dark gradient fading in from the left */
    background: linear-gradient(to right, rgba(0,0,0,0.08), transparent);
  }

  .nav-prev::after {
    /* Rotate to point left */
    transform: rotate(-135deg) translateX(10px);
  }

  .nav-prev:hover::after {
    opacity: 1;
    transform: rotate(-135deg) translateX(0); /* Slide in effect */
  }

  /* --- NEXT HOVER --- */
  .nav-next:hover {
    /* Subtle dark gradient fading in from the right */
    background: linear-gradient(to left, rgba(0,0,0,0.08), transparent);
  }

  .nav-next::after {
    /* Rotate to point right */
    transform: rotate(45deg) translateX(-10px);
  }

  .nav-next:hover::after {
    opacity: 1;
    transform: rotate(45deg) translateX(0); /* Slide in effect */
  }
}
